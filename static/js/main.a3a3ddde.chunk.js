(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,t,n){e.exports={dialogs:"style_dialogs__2WUwu",disableClicking:"style_disableClicking__1NlyC",dialogsItems:"style_dialogsItems__1UyT5",noChats:"style_noChats__1Vae_",item:"style_item__NjXNW",photo:"style_photo__Y75BW",malePhoto:"style_malePhoto__1dZuq",unreadTicket:"style_unreadTicket__3YH42",activeTicket:"style_activeTicket__3tjXj",activeDialogItem:"style_activeDialogItem__6jGlg",userName:"style_userName__15JGc",openDialogsItems:"style_openDialogsItems__u_Mug",messages:"style_messages__1ssW8",topBlock:"style_topBlock__2wo2N",topBlockArrow:"style_topBlockArrow__QpeDZ",topBlockUser:"style_topBlockUser__VLAPf",topBlockPhoto:"style_topBlockPhoto__2ROsV",topBlockName:"style_topBlockName__3gOC4",form:"style_form__3mIdS",openMessages:"style_openMessages__3LVv1",messagesBlock:"style_messagesBlock__4lMvz",noMessages:"style_noMessages__26FRu",hr:"style_hr__7372c",hrText:"style_hrText__3xC19",hrLine:"style_hrLine__2nckS",message:"style_message__23VzI",messageText:"style_messageText__h7KTk",messageDate:"style_messageDate__2-Qar",myMessage:"style_myMessage__2gQeR"}},17:function(e,t,n){e.exports={navbar:"style_navbar__3VhW8",link:"style_link__2pHQ1",item:"style_item__1imBA",activeItem:"style_activeItem__JwK1c",itemLogout:"style_itemLogout__2nZ0D",activeLi:"style_activeLi__gDx-p",hideOnMobile:"style_hideOnMobile__34qHf"}},198:function(e,t,n){e.exports={bg:"style_bg__2kfj8"}},20:function(e,t,n){e.exports={profile:"style_profile__3YzWb",infoBlock:"style_infoBlock__2CBxA",mainInfo:"style_mainInfo__2K0cI",colorBlock:"style_colorBlock__1PeZS",chooserColor:"style_chooserColor__25EWf",mainPhoto:"style_mainPhoto__3zNrw",malePhoto:"style_malePhoto__1ajTJ",name:"style_name__9ZMzh",status:"style_status__3HV_B",statusEdit:"style_statusEdit__1ZadD",modal:"style_modal__2bNeb",overlayModal:"style_overlayModal__1CCsK",modalPhoto:"style_modalPhoto__3uDsF",description:"style_description__8SE3M",aboutMe:"style_aboutMe__34lrN",skills:"style_skills__hOIGV",contactsList:"style_contactsList__1kBWb",contacts:"style_contacts__cY4Ob",gitHubIcon:"style_gitHubIcon__39P0L",vkIcon:"style_vkIcon__1oZMW"}},21:function(e,t,n){e.exports={loginPage:"style_loginPage__1ysKO",loginWrap:"style_loginWrap__lY6w0",login:"style_login__3CgKh",registration:"style_registration__22iPQ",button:"style_button__2pGtc",name:"style_name__D0PBa",surname:"style_surname__14ZpT",mail:"style_mail__1QVd5",password:"style_password__2MTIN",passwordField:"style_passwordField__2cFwa",showPassword:"style_showPassword__PTD1_",chooseGender:"style_chooseGender__3px1J",title:"style_title__2KQe7",radios:"style_radios__159BR",item:"style_item__1SKDL",label:"style_label__2nzxo",radioButton:"style_radioButton__1LjgR",active:"style_active__32W8m"}},22:function(e,t,n){e.exports={editInfoBlock:"style_editInfoBlock__1p7ty",topBlock:"style_topBlock__3yUxD",contactsBlock:"style_contactsBlock___zFtA",upload:"style_upload__1e4se",name_surname:"style_name_surname__4KT3B",name:"style_name__3wSeS",uploadBtn:"style_uploadBtn__2tDoT",photos:"style_photos__1zT96",largePhoto:"style_largePhoto__3BVCb",smallPhoto:"style_smallPhoto__2VfeG",rightBlock:"style_rightBlock__1_THZ",checkbox:"style_checkbox__2OsbY",secondP:"style_secondP__3iFCW",contacts:"style_contacts__mT6no",contactsItem:"style_contactsItem__-Rg_O",contactKey:"style_contactKey__32agA",contactValue:"style_contactValue__19YHD",buttons:"style_buttons__9YeWa",saveBtn:"style_saveBtn__YpbHF"}},23:function(e,t,n){e.exports={header:"style_header__TO-N5",headerWrap:"style_headerWrap__23v9D",mainIcon:"style_mainIcon__23arU",logoLink:"style_logoLink__1XvL_",logo:"style_logo__2zxCI",title:"style_title__14FzW",isAuthUserBlock:"style_isAuthUserBlock__2FDFu",userLogName:"style_userLogName__1qm9C",userPhoto:"style_userPhoto__3r1uj",malePhoto:"style_malePhoto__3fnr0",function:"style_function__yBuiQ",overlay:"style_overlay__YGu-Y",content:"style_content__23axK",theme:"style_theme__sVuq-",exit:"style_exit__240NF",button:"style_button__2I_AA",switchOn:"style_switchOn__2aDPA",label:"style_label__vZ3D7",login:"style_login__1W1DX"}},30:function(e,t,n){e.exports={postsBlock:"style_postsBlock__1cffV",form:"style_form__mxyeJ",posts:"style_posts__h44ku",item:"style_item__1091X",user:"style_user__2aewJ",userInfo:"style_userInfo__2aQxp",userPhoto:"style_userPhoto__3r_ME",malePhoto:"style_malePhoto__2hAX6",userDescription:"style_userDescription__2mz9g",name:"style_name__MxFMo",date:"style_date__1GwkD",removePost:"style_removePost__3J5pk",bottomBlock:"style_bottomBlock__15Vc8",text:"style_text__2XEYk",likes:"style_likes__2ko0x",likeCount:"style_likeCount__bAzmX"}},33:function(e,t,n){e.exports={users:"style_users__2imDQ",search:"style_search__1-bkB",notFound:"style_notFound__11xJF",usersBlock:"style_usersBlock__1JDr9",userContainer:"style_userContainer__fEF7s",user:"style_user__jbwGE",photo:"style_photo__3zT86",malePhoto:"style_malePhoto__2AYCG",fol:"style_fol__3W7xg",descriptionUser:"style_descriptionUser__33pWg",name:"style_name__2tKL1",paginator:"style_paginator__lSpmO"}},34:function(e,t,n){e.exports={news:"style_news__3sdPz",topBlock:"style_topBlock__3tqRA",select:"style_select__2OhEj",newsList:"style_newsList__2Fr6W",newsItem:"style_newsItem__3jw72",itemWrapper:"style_itemWrapper__3X9hu",info:"style_info__1veLc",date:"style_date__2_GWN",img:"style_img__1nljS",title:"style_title__3hGrO",description:"style_description__2xCfU",publish:"style_publish__xZWeI"}},35:function(e,t,n){e.exports={followBlock:"style_followBlock__tVEce",followTitle:"style_followTitle__3RiMX",usersBlock:"style_usersBlock__1ioP9",follow:"style_follow__3HZSP",followItem:"style_followItem__1OfL1",pag:"style_pag__3Yqq_",photo:"style_photo__qlb6R",malePhoto:"style_malePhoto__3e0ZC",name:"style_name__JaoIK",descriptionUser:"style_descriptionUser__XdRNt",buttons:"style_buttons__65kUx",chat:"style_chat__1rYEL",unfollow:"style_unfollow__Ai8Uk"}},45:function(e,t,n){e.exports={settings:"style_settings__r7EZA",settingsItem:"style_settingsItem__3MZIM",label:"style_label__2aYtc",button:"style_button__bWtW8",switchOn:"style_switchOn__scE-W"}},49:function(e,t,n){e.exports={paginator:"style_paginator__dhNDU",container:"style_container__20G7t",pageNumber:"style_pageNumber__krkov",selectedPage:"style_selectedPage__2sdK5",button:"style_button__2htgJ",buttonHidden:"style_buttonHidden__ybCEf"}},520:function(e,t,n){},521:function(e,t,n){"use strict";n.r(t);var a,s=n(0),c=n(81),r=n.n(c),o=n(27),i=n(26),l=n(8),u=n(37),j=n(190),d=n(58),b=n(4),h=n(191),f=n.n(h),m={notifications:[]},O=function(e){return{type:"app/ADD_NOTIFICATION",notification:e}},p=function(e){return{type:"app/REMOVE_NOTIFICATION",id:e}},g=function(e,t){return function(n){var a=f()();n(O({id:a,type:e,message:t})),setTimeout((function(){return n(p(a))}),5e3)}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/ADD_NOTIFICATION":return Object(b.a)(Object(b.a)({},e),{},{notifications:[].concat(Object(d.a)(e.notifications),[t.notification])});case"app/REMOVE_NOTIFICATION":return Object(b.a)(Object(b.a)({},e),{},{notifications:e.notifications.filter((function(e){return e.id!==t.id}))});default:return e}},x=n(7),v=n.n(x),A=n(11),y=n(84),w=n.n(y),N=w.a.create({withCredentials:!0,baseURL:"https://gazzati-social-netwok.herokuapp.com/api/",headers:{"Content-Type":"application/json",authToken:localStorage.getItem("authToken")}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={}));var k=function(e){return N.get("profile/".concat(e)).then((function(e){return e.data.data}))},E=function(e){return N.put("profile/status/",{status:e}).then((function(e){return e.data}))},C=function(e){var t=new FormData;return t.append("image",e),N.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},I=function(e){return N.put("profile",e).then((function(e){return e.data}))},T=function(e){return N.post("profile/post",{postMessage:e}).then((function(e){return e.data}))},S=function(e){return N.put("profile/like",{postId:e}).then((function(e){return e.data}))},B=function(e){return N.delete("profile/post".concat(e)).then((function(e){return e.data}))},F=function(){return N.get("auth/me").then((function(e){return e.data}))},P=function(e){return N.post("auth/login",e).then((function(e){return e.data}))},U=function(e){return N.post("auth/registration",e).then((function(e){return e.data}))},G=function(){return N.delete("auth/logout").then((function(e){return e.data}))},D={userData:{id:null,name:null,surname:null,photo:null,isMale:!0},isAuth:!1,isFetching:!1},M=function(e,t){return{type:"auth/SET_USER_DATA",payload:{userData:e,isAuth:t}}},R=function(e){return{type:"auth/SET_USER_PHOTO",photo:e}},L=function(e){return{type:"auth/TOGGLE_IS_FETCHING",isFetching:e}},H=function(){return function(){var e=Object(A.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:(n=e.sent).resultCode===a.Success&&(N.defaults.headers.authToken="",localStorage.removeItem("authToken"),t(M({id:null,name:null,surname:null,photo:null,isMale:!0},!1)),t(g("success",n.message)),window.location.reload());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATA":return Object(b.a)(Object(b.a)({},e),t.payload);case"auth/SET_USER_PHOTO":return Object(b.a)(Object(b.a)({},e),{},{userData:Object(b.a)(Object(b.a)({},e.userData),{},{photo:t.photo})});case"auth/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},W={profile:{_id:"emty",info:{name:"",surname:"",contacts:{}},status:"",posts:[]},isFetching:!0},Z=function(e){return{type:"profile/SET_USER_PROFILE",profile:e}},z=function(e){return{type:"profile/SET_STATUS",status:e}},K=function(e){return{type:"profile/SAVE_PHOTO_SUCCESS",photo:e}},V=function(e){return{type:"profile/REFRESH_POSTS",posts:e}},X=function(e){return{type:"profile/DELETE_POST",postId:e}},J=function(e){return{type:"profile/TOGGLE_IS_FETCHING",isFetching:e}},q=function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:0===t.sent.resultCode&&n(z(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(J(!0)),t.next=3,I(e);case 3:0===(a=t.sent).resultCode?(n(Z(a.data)),n(g("success",a.message))):n(g("error",a.message)),n(J(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/SET_STATUS":return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{status:t.status})});case"profile/SET_USER_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});case"profile/SAVE_PHOTO_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{photo:Object(b.a)(Object(b.a)({},e.profile.photo),{},{url:t.photo})})});case"profile/REFRESH_POSTS":return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{posts:t.posts})});case"profile/DELETE_POST":return Object(b.a)(Object(b.a)({},e),{},{profile:Object(b.a)(Object(b.a)({},e.profile),{},{posts:e.profile.posts.filter((function(e){return e._id!==t.postId}))})});case"profile/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},ee=n(192),te=n.n(ee)()("https://gazzati-social-network-socket.herokuapp.com",{auth:{token:localStorage.getItem("authToken")}}),ne={chats:[],messages:[],newChatId:"",isFetching:!1},ae=function(e){return{type:"dialogs/SET_CHATS",chats:e}},se=function(e){return{type:"dialogs/SET_MESSAGES",messages:e}},ce=function(e){return{type:"dialogs/SET_NEW_CHAT_ID",newChatId:e}},re=function(e){return{type:"dialogs/TOGGLE_IS_FETCHING",isFetching:e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/SET_CHATS":return Object(b.a)(Object(b.a)({},e),{},{chats:t.chats});case"dialogs/SET_MESSAGES":return Object(b.a)(Object(b.a)({},e),{},{messages:t.messages});case"dialogs/SET_NEW_CHAT_ID":return Object(b.a)(Object(b.a)({},e),{},{newChatId:t.newChatId});case"dialogs/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},ie=function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(re(!0)),te.emit("loadData",{chatId:e},(function(e){e&&console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(re(!0)),te.emit("startChat",{companionId:e},(function(e){e&&console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=n(10),je=n(117),de=n.n(je),be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return N.get("users/?".concat(n&&"term=".concat(n,"&"),"page=").concat(e,"&limit=").concat(t)).then((function(e){return e.data}))},he=function(e){return N.post("users/follow".concat(e)).then((function(e){return e.data}))},fe=function(e){return N.delete("users/unfollow".concat(e)).then((function(e){return e.data}))},me={users:[],currentPage:1,pageSize:7,totalUsersCount:0,isFetching:!0,followingInProgress:[]},Oe=function(e){return{type:"users/SET_USERS",data:e}},pe=function(e){return{type:"users/UPDATE_USERS",payload:e}},ge=function(e){return{type:"users/SET_CURRENT_PAGE",currentPage:e}},_e=function(e){return{type:"users/SET_TOTAL_USERS_COUNT",count:e}},xe=function(e){return{type:"users/TOGGLE_IS_FETCHING",isFetching:e}},ve=function(e,t){return{type:"users/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Ae=function(){return{type:"users/RESET_CURRENT_PAGE"}},ye=function(e,t){return function(){var n=Object(A.a)(v.a.mark((function n(a){var s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(xe(!0)),a(ge(e)),n.next=4,be(e,me.pageSize,t);case 4:s=n.sent,a(Oe(s.data.users)),a(_e(s.data.total)),a(xe(!1));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},we=function(){return function(){var e=Object(A.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ae());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/SET_USERS":return Object(b.a)(Object(b.a)({},e),{},{users:t.data});case"users/UPDATE_USERS":var n=t.payload,a=n.myId,s=n.userId,c=e.users.filter((function(e){return e._id===s}))[0],r=e.users.indexOf(c);if(c.followers.includes(a)){var o=c.followers.indexOf(a);return de()(e,{users:Object(ue.a)({},r,{followers:{$splice:[[o,1]]}})})}return de()(e,{users:Object(ue.a)({},r,{followers:{$push:[a]}})});case"users/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"users/SET_TOTAL_USERS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.count});case"users/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"users/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case"users/RESET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:1});default:return e}},ke=function(e,t,n){return w.a.get("https://newsapi.org/v2/top-headlines?"+"category=".concat(n,"&country=ru&apiKey=").concat("3d368681f4414a9fb4ffa48ef6d52ea6","&pageSize=").concat(t,"&page=").concat(e)).then((function(e){return e.data}))},Ee={news:[],isFetching:!0,pageSize:5,totalNewsCount:0,currentPage:1,category:"general"},Ce=function(e){return{type:"SET_NEWS",news:e}},Ie=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Te=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Se=function(e){return{type:"SET_TOTAL_NEWS_COUNT",count:e}},Be=function(e){return{type:"SET_CATEGORY",category:e}},Fe=function(e,t,n){return function(){var a=Object(A.a)(v.a.mark((function a(s){var c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(Ie(!0)),s(Te(e)),s(Be(n)),a.next=5,ke(e,t,n);case 5:c=a.sent,s(Se(c.totalResults)),s(Ce(c.articles)),s(Ie(!1));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEWS":return Object(b.a)(Object(b.a)({},e),{},{news:t.news});case"SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_NEWS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalNewsCount:t.count});case"SET_CATEGORY":return Object(b.a)(Object(b.a)({},e),{},{category:t.category});case"TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});default:return e}},Ue="settings/TOGGLE_BLACK_THEME",Ge="settings/TOGGLE_DYNAMIC_BACKGROUND",De={isBlackThemeActivated:!1,isDynamicBackgroundActivated:!1},Me=function(e){return{type:Ue,theme:e}},Re=function(e){return{type:Ge,theme:e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:var n=t.theme?"light":"dark";return document.documentElement.setAttribute("data-theme",n),localStorage.setItem("black-theme",n),Object(b.a)(Object(b.a)({},e),{},{isBlackThemeActivated:!t.theme});case Ge:var a=t.theme?"false":"true";return localStorage.setItem("dynamic-bg",a),Object(b.a)(Object(b.a)({},e),{},{isDynamicBackgroundActivated:!t.theme});default:return e}},He=function(){return N.get("users/following").then((function(e){return e.data}))},Qe=function(){return N.get("users/followers").then((function(e){return e.data}))},We={following:[],followers:[],pageSize:8,totalFriendsCount:0,currentPage:1,isFetching:!0,unfollowingInProgress:[]},Ze=function(e){return{type:"follow/UNFOLLOW",userId:e}},ze=function(e){return{type:"follow/SET_FOLLOWING",following:e}},Ke=function(e){return{type:"follow/SET_FOLLOWERS",followers:e}},Ve=function(e){return{type:"follow/TOGGLE_IS_FETCHING",isFetching:e}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"follow/SET_FOLLOWING":return Object(b.a)(Object(b.a)({},e),{},{following:t.following});case"follow/SET_FOLLOWERS":return Object(b.a)(Object(b.a)({},e),{},{followers:t.followers});case"follow/SET_CURRENT_PAGE":return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case"follow/SET_TOTAL_USERS_COUNT":return Object(b.a)(Object(b.a)({},e),{},{totalFriendsCount:t.count});case"follow/TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"follow/UNFOLLOW":return Object(b.a)(Object(b.a)({},e),{},{following:e.following.filter((function(e){return e._id!==t.userId}))});case"follow/TOGGLE_IS_UNFOLLOWING_PROGRESS":return Object(b.a)(Object(b.a)({},e),{},{unfollowingInProgress:t.isFetching?[].concat(Object(d.a)(e.unfollowingInProgress),[t.userId]):e.unfollowingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Je=Object(u.c)({app:_,profile:$,dialogs:oe,users:Ne,auth:Q,news:Pe,settings:Le,follow:Xe}),qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,Ye=Object(u.e)(Je,qe(Object(u.a)(j.a)));window.__store__=Ye;var $e,et=Ye,tt=n(18),nt=n.p+"static/media/preloader.cd33075e.svg",at=n.p+"static/media/preloaderMini.1885e0fb.svg",st=n(1),ct=function(){return Object(st.jsx)("span",{className:"preloader",children:Object(st.jsx)("img",{src:window.matchMedia("(min-width: 600px)").matches?nt:at,alt:""})})},rt=n(13),ot=n.n(rt),it=n.p+"static/media/rightArrowIcon.cac5431d.svg",lt=n(49),ut=n.n(lt),jt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,c=void 0===a?1:a,r=e.onPageChanged,o=e.portionSize,i=void 0===o?5:o,l=Math.ceil(t/n),u=[],j=1;j<=l;j++)u.push(j);var d=Math.ceil(l/i),b=Object(s.useState)(1),h=Object(tt.a)(b,2),f=h[0],m=h[1],O=(f-1)*i+1,p=f*i;return Object(st.jsx)("div",{className:ot()(ut.a.paginator),children:Object(st.jsxs)("div",{className:ut.a.container,children:[Object(st.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBQsUFTEjpBbHAAACZUlEQVRo3u2Zu09UQRSHv1nXR0HUBAofZDFBfDRCYUyk1j/Aws5HA2JWI7UvTIzxgVqZLPwBWoi1iZY2JsZYaCc+AwoYG02IiSzys5BcdnZx13tnZ8aCU83kzp7znXPvzjkzx7Ao2sJRDtDOGtLJDFfNw5S/qRblNKQfyipl9biZX6WxzMb/yIXs1nPAZQ47hnDGxf/tmnP0/5nWZbefp5/Vyewj95hIqWGKx6bsEoGXiSevtd5BUWaAbwnAmQjmybEhGU/GAYgsKwDRAfJ+1GojA7TywDxvvHRJDjXNfIveSJLm1R8H4Hiic0En66/18w0sbe6Gkk6Fj0Crpiv0LmgwMACoR1+tjHk2MACouwrhfGAA0G7rRUgXAwOAdmnKQrgUGAC0U58thOuBAUA79Kkugm8AUJcmLYThwACgbfpgIdwKDADq0HsL4XZgAFBB7yyEEZmgAKCC3loIozIp6wHt5RibHBi+0FkxG+CXTqcAUC9PmlzAFJlIk46LHuqnwTQAarp5WEgDMMJ80wHupAiqear9jh/hVnqteYnh6H/DcBtRR9VGVAq6EUXeimuS0c3Kh/7TcXVFcMN+7LsgaVQT+QWIXJLVFKVDyy3yBlBTli9/nekLIPLBJPLRTG2RD6fqs8zXPZ77uaKZW2KhaEbr0/qIQIvGJf3TFY2XCJhZ7eMEbdw3LxrTBkrHf5Po94QrAP8BwPdkXIhCUNGyGY/RssnziD2L4y5e6W74plWnfspNnNp2gK44Akh92a3ngCHGnDzA6bgGIKNzms3sf1nd2W2bBGIzRzhIO2tTapjmmkv7/jfCB+3KgJ3G2QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNS0xMVQyMDoyMTo0OSswMDowMFzK7OEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDUtMTFUMjA6MjE6NDkrMDA6MDAtl1RdAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==",alt:"",className:f>1?ut.a.button:ut.a.buttonHidden,onClick:function(){m(f-1)}}),u.filter((function(e){return e>=O&&e<=p})).map((function(e){return Object(st.jsx)("div",{className:ot()(Object(ue.a)({},ut.a.selectedPage,c===e),ut.a.pageNumber),onClick:function(){r&&r(e)},children:e},e)})),d>f&&Object(st.jsx)("img",{src:it,alt:"",className:ut.a.button,onClick:function(){m(f+1)}})]})})},dt=n.p+"static/media/user.4c3ac33d.png",bt=n(33),ht=n.n(bt),ft=function(e){var t,n,a=e.user,s=e.currentUserId,c=e.followingInProgress,r=e.follow,o=e.unfollow,l=c.includes(a._id);return Object(st.jsx)("div",{className:ht.a.userContainer,children:Object(st.jsxs)("div",{className:ht.a.user,children:[Object(st.jsx)(i.b,{to:"profile:".concat(a._id),children:Object(st.jsx)("img",{src:(null===(t=a.photo)||void 0===t?void 0:t.url)?null===(n=a.photo)||void 0===n?void 0:n.url:dt,className:ot()(ht.a.photo,Object(ue.a)({},ht.a.malePhoto,a.info.isMale)),alt:""})}),Object(st.jsxs)("div",{className:ht.a.descriptionUser,children:[Object(st.jsx)("div",{className:ht.a.name,children:a.info.name}),Object(st.jsx)("div",{children:a.status})]}),s&&s!==a._id&&Object(st.jsx)("div",{className:ht.a.fol,children:s&&a.followers.includes(s)?Object(st.jsx)("button",{disabled:l,className:ot()("button button--secondary",{"button--disabled":l}),onClick:function(){return o(a._id)},children:"Unfollow"}):Object(st.jsx)("button",{disabled:l,className:ot()("button button--primary",{"button--disabled":l}),onClick:function(){return r(a._id)},children:"Follow"})})]})})},mt=function(){var e=Object(l.c)((function(e){return e.auth})).userData,t=Object(l.c)((function(e){return e.users})),n=t.users,a=t.totalUsersCount,c=t.pageSize,r=t.currentPage,o=t.isFetching,i=t.followingInProgress,u=Object(l.b)(),j=Object(s.useState)(""),d=Object(tt.a)(j,2),b=d[0],h=d[1];Object(s.useEffect)((function(){u(ye(r,b))}),[b]);return Object(st.jsxs)("div",{className:ht.a.users,children:[o&&Object(st.jsx)(ct,{}),Object(st.jsxs)("div",{className:ht.a.search,children:[Object(st.jsx)("h3",{children:"Find other users"}),Object(st.jsxs)("form",{className:"form--primary",onSubmit:function(e){e.preventDefault(),h(b),u(we)},children:[Object(st.jsx)("input",{className:"form--primary-input",type:"text",placeholder:"Enter your request...",value:b,onChange:function(e){return function(e){h(e.target.value),u(we)}(e)}}),Object(st.jsx)("button",{className:"button button--primary form--primary-button",children:"Search"})]})]}),Object(st.jsx)("div",{className:ht.a.usersBlock,children:n.length?n.map((function(t){return Object(st.jsx)(ft,{user:t,followingInProgress:i,currentUserId:e.id,follow:function(e){return u(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(xe(!0)),n(ve(!0,e)),t.next=4,he(e);case 4:a=t.sent,n(pe(a.data)),n(xe(!1)),n(ve(!1,e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},unfollow:function(e){return u(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(xe(!0)),n(ve(!0,e)),t.next=4,fe(e);case 4:a=t.sent,n(pe(a.data)),n(xe(!1)),n(ve(!1,e));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}},t._id)})):Object(st.jsx)("div",{className:ht.a.notFound,children:"Not found users"})}),Object(st.jsx)("div",{className:ht.a.paginator,children:Object(st.jsx)(jt,{currentPage:r,onPageChanged:function(e){u(ye(e,b))},totalItemsCount:a,pageSize:c})})]})},Ot=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.998 18",fill:"#9d9aa8",children:Object(st.jsx)("g",{transform:"translate(-260.001 -148)",children:Object(st.jsx)("path",{d:"M17.515,7.829h0L10.171.486a1.657,1.657,0,0,0-2.344,0L.489,7.824l-.007.008a1.656,1.656,0,0,0,1.1,2.823l.051,0h.293v5.4A1.942,1.942,0,0,0,3.867,18H6.74a.527.527,0,0,0,.527-.527V13.236a.886.886,0,0,1,.885-.885H9.846a.886.886,0,0,1,.885.885v4.236a.527.527,0,0,0,.527.527h2.873a1.942,1.942,0,0,0,1.94-1.939v-5.4h.271a1.657,1.657,0,0,0,1.173-2.828Zm0,0",transform:"translate(260.001 148)"})})})},pt=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 17",children:Object(st.jsx)("g",{transform:"translate(-260 -207)",children:Object(st.jsx)("path",{d:"M15.525-.037H2.475A2.511,2.511,0,0,0,0,2.5v8.2a2.511,2.511,0,0,0,2.466,2.54v3.721l5.208-3.72h7.851A2.511,2.511,0,0,0,18,10.7V2.5a2.511,2.511,0,0,0-2.475-2.54ZM13.182,9.49H4.818V8.408h8.365Zm0-2.31H4.818V6.1h8.365Zm0-2.31H4.818V3.788h8.365Zm0,0",transform:"translate(260 207.037)"})})})},gt=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 18",children:Object(st.jsx)("g",{transform:"translate(-261 -264)",children:Object(st.jsxs)("g",{transform:"translate(261 264)",children:[Object(st.jsx)("path",{d:"M7.386,8.671A4.182,4.182,0,0,0,10.446,7.4a4.2,4.2,0,0,0,1.267-3.065A4.2,4.2,0,0,0,10.446,1.27,4.183,4.183,0,0,0,7.386,0,4.182,4.182,0,0,0,4.327,1.27,4.2,4.2,0,0,0,3.06,4.335,4.2,4.2,0,0,0,4.327,7.4a4.183,4.183,0,0,0,3.059,1.27Zm0,0"}),Object(st.jsx)("path",{d:"M14.964,13.841a10.72,10.72,0,0,0-.146-1.137,8.97,8.97,0,0,0-.279-1.144,5.652,5.652,0,0,0-.47-1.066,4.024,4.024,0,0,0-.708-.924,3.121,3.121,0,0,0-1.017-.64,3.512,3.512,0,0,0-1.3-.235,1.317,1.317,0,0,0-.7.3c-.211.138-.458.3-.733.473a4.2,4.2,0,0,1-.949.418,3.68,3.68,0,0,1-2.321,0,4.189,4.189,0,0,1-.948-.418c-.273-.175-.52-.334-.734-.474a1.315,1.315,0,0,0-.7-.3,3.507,3.507,0,0,0-1.3.236,3.119,3.119,0,0,0-1.017.64,4.024,4.024,0,0,0-.708.924,5.663,5.663,0,0,0-.47,1.067A8.991,8.991,0,0,0,.182,12.7a10.682,10.682,0,0,0-.146,1.138C.012,14.186,0,14.543,0,14.9a2.991,2.991,0,0,0,.887,2.261A3.19,3.19,0,0,0,3.171,18h8.657a3.189,3.189,0,0,0,2.285-.834A2.989,2.989,0,0,0,15,14.9c0-.363-.012-.72-.036-1.063Zm0,0",transform:"translate(0)"})]})})})},_t=function(){return Object(st.jsxs)("svg",{id:"Capa_1",enableBackground:"new 0 0 508.995 508.995",height:"512",viewBox:"0 0 508.995 508.995",width:"512",xmlns:"http://www.w3.org/2000/svg",children:[Object(st.jsx)("path",{d:"m197.573 188.379h-6.15c-35.801 0-65.108 28.328-66.681 63.748h139.512c-1.577-35.416-30.883-63.748-66.681-63.748z"}),Object(st.jsx)("path",{d:"m428.513 0h-348.031c-44.366 0-80.461 39.036-80.461 87.019v219.758c0 47.982 36.095 87.018 80.461 87.018h104.492l56.241 107.171c2.591 4.937 7.706 8.03 13.282 8.03s10.691-3.093 13.282-8.03l56.241-107.171h104.492c44.366 0 80.461-39.036 80.461-87.018v-219.758c.001-47.983-36.094-87.019-80.46-87.019zm-161.193 282.128h-145.645c-14.888 0-27-12.112-27-27 0-40.134 24.565-74.635 59.448-89.266-10.311-10.331-16.695-24.581-16.695-40.295 0-31.468 25.601-57.07 57.069-57.07s57.069 25.602 57.069 57.07c0 15.714-6.385 29.964-16.695 40.295 34.883 14.63 59.448 49.131 59.448 89.265.001 14.888-12.111 27.001-26.999 27.001zm129.796-24.774c0 6.353-7.742 9.529-15.485 9.529-7.742 0-15.485-3.177-15.485-9.529v-101.053l-5.758 3.574c-1.786 1.191-3.573 1.588-4.963 1.588-5.758 0-9.729-6.155-9.729-12.309 0-4.169 1.787-8.14 5.758-10.522l26.206-15.882c1.589-.993 3.574-1.39 5.758-1.39 6.353 0 13.698 3.772 13.698 9.728z"}),Object(st.jsx)("path",{d:"m194.498 152.637c14.926 0 27.069-12.143 27.069-27.07 0-14.926-12.144-27.07-27.069-27.07s-27.069 12.144-27.069 27.07c-.001 14.927 12.143 27.07 27.069 27.07z"})]})},xt=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",children:Object(st.jsx)("path",{d:"M17.357,4.5H14.143V.643A.643.643,0,0,0,13.5,0H.643A.643.643,0,0,0,0,.643V15.429A2.571,2.571,0,0,0,2.571,18H15.429A2.571,2.571,0,0,0,18,15.429V5.143A.643.643,0,0,0,17.357,4.5ZM5.143,3.214H9A.643.643,0,0,1,9,4.5H5.143a.643.643,0,1,1,0-1.286Zm5.786,12.214H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214A.643.643,0,0,1,3.214,9h7.714a.643.643,0,0,1,0,1.286Zm0-2.571H3.214a.643.643,0,1,1,0-1.286h7.714a.643.643,0,0,1,0,1.286Zm5.786,7.714a1.286,1.286,0,0,1-2.571,0V5.786h2.571v9.643Z"})})},vt=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",children:Object(st.jsx)("g",{transform:"translate(-0.236)",children:Object(st.jsx)("g",{transform:"translate(0.236)",children:Object(st.jsx)("path",{d:"M17.924,10.973l-1.7-1.294a6.345,6.345,0,0,0,.04-.68,6.154,6.154,0,0,0-.04-.68l1.7-1.294a.8.8,0,0,0,.2-1.033L16.36,3.015a.829.829,0,0,0-1.022-.358l-2,.784a6.921,6.921,0,0,0-1.2-.68L11.824.69A.811.811,0,0,0,11.008,0H7.465A.809.809,0,0,0,6.65.684L6.345,2.762a7.134,7.134,0,0,0-1.2.68l-2.01-.786a.846.846,0,0,0-1.014.352L.349,5.989a.792.792,0,0,0,.2,1.039l1.7,1.294a5.78,5.78,0,0,0,0,1.358l-1.7,1.294a.8.8,0,0,0-.2,1.033l1.767,2.977a.828.828,0,0,0,1.022.358l2-.784a6.982,6.982,0,0,0,1.2.68l.3,2.07A.811.811,0,0,0,7.466,18h3.543a.81.81,0,0,0,.816-.684l.306-2.077a7.167,7.167,0,0,0,1.2-.681l2.01.786a.847.847,0,0,0,.3.056.817.817,0,0,0,.712-.407L18.131,12A.8.8,0,0,0,17.924,10.973ZM9.237,12a3,3,0,1,1,3.081-3A3.044,3.044,0,0,1,9.237,12Z",transform:"translate(-0.236)"})})})})},At=function(){return Object(st.jsx)("svg",{fill:"red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17.999 18",children:Object(st.jsx)("g",{transform:"translate(-260 -554)",children:Object(st.jsxs)("g",{transform:"translate(260 554)",children:[Object(st.jsx)("path",{d:"M17.943,7.963a.758.758,0,0,0-.163-.245L15.531,5.47a.75.75,0,1,0-1.06,1.06l.97.97H11.25a.75.75,0,1,0,0,1.5H15.44l-.97.97a.75.75,0,1,0,1.061,1.06L17.78,8.781a.743.743,0,0,0,.163-.245A.751.751,0,0,0,17.943,7.963Z"}),Object(st.jsx)("path",{d:"M12.75,10.5a.75.75,0,0,0-.75.75V15H9V3a.751.751,0,0,0-.535-.718L5.861,1.5H12V5.25a.75.75,0,0,0,1.5,0V.75A.75.75,0,0,0,12.75,0H.75A.668.668,0,0,0,.673.014.741.741,0,0,0,.355.125C.339.136.319.136.3.148S.294.161.288.166A.743.743,0,0,0,.089.4.613.613,0,0,0,.068.466.711.711,0,0,0,.009.641a.467.467,0,0,0,0,.065C.01.722,0,.735,0,.75v15a.749.749,0,0,0,.6.735l7.5,1.5A.7.7,0,0,0,8.25,18,.75.75,0,0,0,9,17.25V16.5h3.75a.75.75,0,0,0,.75-.75v-4.5A.75.75,0,0,0,12.75,10.5Z"})]})})})},yt=function(){return Object(st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 15",children:Object(st.jsxs)("g",{transform:"translate(-260 -323)",children:[Object(st.jsx)("g",{transform:"translate(274.01 330.974)",children:Object(st.jsx)("path",{d:"M15.4,9.609H14.01a3.621,3.621,0,0,1,.219,1.245v5.261a1.551,1.551,0,0,1-.089.52h2.3A1.561,1.561,0,0,0,18,15.075V12.207A2.6,2.6,0,0,0,15.4,9.609Z",transform:"translate(-14.01 -9.609)"})}),Object(st.jsx)("g",{transform:"translate(260 330.974)",children:Object(st.jsx)("path",{d:"M3.771,10.854A3.621,3.621,0,0,1,3.99,9.609H2.6a2.6,2.6,0,0,0-2.6,2.6v2.868a1.561,1.561,0,0,0,1.559,1.559h2.3a1.552,1.552,0,0,1-.089-.52Z",transform:"translate(0 -9.609)"})}),Object(st.jsx)("g",{transform:"translate(264.81 329.621)",children:Object(st.jsx)("path",{d:"M10.591,8.255H7.409a2.6,2.6,0,0,0-2.6,2.6v5.261a.52.52,0,0,0,.52.52h7.34a.52.52,0,0,0,.52-.52V10.854A2.6,2.6,0,0,0,10.591,8.255Z",transform:"translate(-4.81 -8.255)"})}),Object(st.jsx)("g",{transform:"translate(265.875 323)",children:Object(st.jsx)("path",{d:"M9,1.365A3.124,3.124,0,1,0,12.125,4.49,3.128,3.128,0,0,0,9,1.365Z",transform:"translate(-5.875 -1.365)"})}),Object(st.jsx)("g",{transform:"translate(261.176 325.839)",children:Object(st.jsx)("path",{d:"M3.513,4.278A2.336,2.336,0,1,0,5.85,6.615,2.34,2.34,0,0,0,3.513,4.278Z",transform:"translate(-1.176 -4.278)"})}),Object(st.jsx)("g",{transform:"translate(272.15 325.839)",children:Object(st.jsx)("path",{d:"M14.487,4.278a2.337,2.337,0,1,0,2.337,2.337A2.34,2.34,0,0,0,14.487,4.278Z",transform:"translate(-12.15 -4.278)"})})]})})},wt=n(17),Nt=n.n(wt),kt=function(){var e=Object(l.c)((function(e){return e.auth})),t=e.isAuth,n=e.userData,a=Object(l.c)((function(e){return e.profile})).profile,s=Object(l.b)(),c=Object(o.g)();return Object(st.jsxs)("div",{className:Nt.a.navbar,children:[Object(st.jsxs)(i.b,{exact:!0,to:"/profile".concat(n.id?":".concat(n.id):""),className:Nt.a.link,activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(Ot,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"My Profile"})]}),Object(st.jsxs)(i.b,{to:"/dialogs",className:Nt.a.link,activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(pt,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Messages"})]}),Object(st.jsxs)(i.b,{to:"/users",isActive:function(){var e=c.location.pathname;return e.includes("user")||!!n.id&&e.includes("profile")&&a._id!==n.id},className:Nt.a.link,activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(yt,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Users"})]}),Object(st.jsxs)(i.b,{to:"/followers",className:Nt.a.link,activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(_t,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Followers"})]}),Object(st.jsxs)(i.b,{to:"/following",className:Nt.a.link,activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(gt,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Following"})]}),Object(st.jsxs)(i.b,{to:"/news",className:"".concat(Nt.a.link," ").concat(Nt.a.hideOnMobile),activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(xt,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"News"})]}),Object(st.jsxs)(i.b,{to:"/settings",className:"".concat(Nt.a.link," ").concat(Nt.a.hideOnMobile),activeClassName:Nt.a.activeItem,children:[Object(st.jsx)(vt,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Settings"})]}),t&&Object(st.jsxs)("div",{className:"".concat(Nt.a.link," ").concat(Nt.a.hideOnMobile," ").concat(Nt.a.itemLogout),onClick:function(){return s(H())},children:[Object(st.jsx)(At,{}),Object(st.jsx)("span",{className:Nt.a.item,children:"Exit from account"})]})]})},Et=n(22),Ct=n.n(Et),It=function(e){var t,n,a=e.profile,c=e.onSubmit,r=e.exitOfEditMode,o=e.isOwner,i=e.isLoading,u=Object(l.b)(),j=Object(s.useState)(a.info),d=Object(tt.a)(j,2),h=d[0],f=d[1],m=function(e){e.preventDefault(),c(h)};return i?Object(st.jsx)(ct,{}):Object(st.jsxs)("form",{className:Ct.a.editInfoBlock,onSubmit:function(e){return m(e)},children:[Object(st.jsxs)("div",{className:Ct.a.topBlock,children:[Object(st.jsxs)("div",{className:Ct.a.leftBlock,children:[Object(st.jsx)("h3",{children:"Edit your profile"}),o&&Object(st.jsxs)("div",{className:Ct.a.upload,children:[Object(st.jsx)("p",{children:"Edit photo"}),Object(st.jsx)("p",{className:Ct.a.secondP,children:"Upload new photo"}),Object(st.jsx)("input",{id:"upl",type:"file",onChange:function(e){var t,n=e.target.files;n&&n.length&&u((t=n[0],function(){var e=Object(A.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(J(!0)),e.next=3,C(t);case 3:a=e.sent,n(K(a.data.photo)),n(R(a.data.photo)),n(J(!1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),Object(st.jsx)("label",{htmlFor:"upl",className:"button button--primary ".concat(Ct.a.uploadBtn),children:"Upload"}),Object(st.jsxs)("div",{className:Ct.a.photos,children:[Object(st.jsx)("img",{src:(null===(t=a.photo)||void 0===t?void 0:t.url)||dt,className:Ct.a.largePhoto,alt:""}),Object(st.jsx)("img",{src:(null===(n=a.photo)||void 0===n?void 0:n.url)||dt,className:Ct.a.smallPhoto,alt:""})]})]}),Object(st.jsxs)("div",{className:Ct.a.name_surname,children:[Object(st.jsxs)("div",{className:Ct.a.name,children:[Object(st.jsx)("p",{children:"Edit name"}),Object(st.jsx)("input",{type:"text",placeholder:"Name",value:h.name,onChange:function(e){return f(Object(b.a)(Object(b.a)({},h),{},{name:e.target.value}))}})]}),Object(st.jsxs)("div",{className:Ct.a.surname,children:[Object(st.jsx)("p",{children:"Edit surname"}),Object(st.jsx)("input",{type:"text",placeholder:"Surname",value:h.surname,onChange:function(e){return f(Object(b.a)(Object(b.a)({},h),{},{surname:e.target.value}))}})]})]})]}),Object(st.jsxs)("div",{className:Ct.a.rightBlock,children:[Object(st.jsx)("h3",{children:"Edit information"}),Object(st.jsxs)("div",{className:Ct.a.aboutMe,children:[Object(st.jsx)("p",{children:"Edit info"}),Object(st.jsx)("input",{type:"text",placeholder:"About me",value:h.aboutMe,onChange:function(e){return f(Object(b.a)(Object(b.a)({},h),{},{aboutMe:e.target.value}))}})]}),Object(st.jsxs)("div",{className:Ct.a.checkbox,children:[Object(st.jsx)("p",{children:"Do you want a find a job?"}),Object(st.jsx)("input",{type:"checkbox",placeholder:"",checked:h.lookingForAJob,onChange:function(){return f(Object(b.a)(Object(b.a)({},h),{},{lookingForAJob:!h.lookingForAJob}))}})]}),Object(st.jsxs)("div",{className:Ct.a.skills,children:[Object(st.jsx)("p",{children:"Edit skills"}),Object(st.jsx)("input",{type:"text",placeholder:"My professional skills",value:h.lookingForAJobDescription,onChange:function(e){return f(Object(b.a)(Object(b.a)({},h),{},{lookingForAJobDescription:e.target.value}))}})]})]})]}),Object(st.jsxs)("div",{className:Ct.a.contactsBlock,children:[Object(st.jsx)("h3",{children:"Edit contacts"}),Object(st.jsx)("div",{className:Ct.a.contacts,children:a.info.contacts&&Object.keys(a.info.contacts).map((function(e){return Object(st.jsxs)("div",{className:Ct.a.contactsItem,children:[Object(st.jsx)("div",{className:Ct.a.contactKey,children:e}),Object(st.jsx)("input",{className:Ct.a.contactValue,type:"text",placeholder:"http://".concat(e,".com"),value:h.contacts[e],onChange:function(t){return f(Object(b.a)(Object(b.a)({},h),{},{contacts:Object(b.a)(Object(b.a)({},h.contacts),{},Object(ue.a)({},e,t.target.value))}))}})]},e)}))})]}),Object(st.jsxs)("div",{className:Ct.a.buttons,children:[Object(st.jsx)("button",{className:"button button--secondary",onClick:r,children:"Cancel"}),Object(st.jsx)("button",{className:"button button--primary ".concat(Ct.a.saveBtn),onClick:function(){return c(h)},children:"Save changes"})]})]})},Tt=n(199),St=n(20),Bt=n.n(St),Ft=function(e){var t=Object(s.useState)(!1),n=Object(tt.a)(t,2),a=n[0],c=n[1],r=Object(s.useState)(e.status),o=Object(tt.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){l(e.status)}),[e.status]);var u=function(){c(!1),e.status!==i&&e.updateStatus(i)};return Object(st.jsx)(st.Fragment,{children:a?Object(st.jsx)("div",{className:Bt.a.statusEdit,children:Object(st.jsx)("input",{value:i,onChange:function(e){l(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&u()},onBlur:u,autoFocus:!0})}):Object(st.jsx)("div",{children:Object(st.jsx)("span",{onClick:function(){e.isOwner&&c(!0)},children:e.status})})})},Pt=n.p+"static/media/github.aba2803d.svg",Ut=n.p+"static/media/vk.ec5c9346.svg",Gt=n.p+"static/media/facebook.fa01b5f9.svg",Dt=n.p+"static/media/instagram.6156ac54.svg",Mt=n.p+"static/media/twitter.36c0bc52.svg",Rt=n.p+"static/media/youtube.3da079ce.svg",Lt=function(e){var t=e.contactTitle,n=e.contactValue;return n?Object(st.jsxs)("div",{className:Bt.a.contacts,children:["github"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Pt,className:Bt.a.gitHubIcon,alt:""}),Object(st.jsx)("p",{children:n})]}),"vk"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Ut,className:Bt.a.vkIcon,alt:""}),Object(st.jsx)("p",{children:n})]}),"facebook"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Gt,alt:""}),Object(st.jsx)("p",{children:n})]}),"instagram"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Dt,alt:""}),Object(st.jsx)("p",{children:n})]}),"twitter"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Mt,alt:""}),Object(st.jsx)("p",{children:n})]}),"youtube"===t&&""!==n&&Object(st.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:[Object(st.jsx)("img",{src:Rt,alt:""}),Object(st.jsx)("p",{children:n})]})]}):null},Ht=function(e){var t=e.info;return Object(st.jsxs)("div",{className:Bt.a.description,children:[Object(st.jsxs)("div",{className:Bt.a.aboutMe,children:[Object(st.jsx)("p",{children:"About me"}),Object(st.jsx)("span",{children:t.aboutMe})]}),t.lookingForAJob&&Object(st.jsxs)("div",{className:Bt.a.skills,children:[Object(st.jsx)("p",{children:"Skills"}),Object(st.jsx)("span",{children:t.lookingForAJobDescription})]}),Object(st.jsx)("p",{children:"My contacts"}),Object(st.jsx)("div",{className:Bt.a.contactsList,children:t.contacts&&Object.keys(t.contacts).map((function(e){return Object(st.jsx)(Lt,{contactTitle:e,contactValue:t.contacts[e]||""},e)}))})]})},Qt=function(e){var t,n,a,c,r=e.profile,o=e.updateStatus,i=e.isOwner,l=e.goToEditMode,u=e.onSendMessage,j=Object(s.useState)(!1),d=Object(tt.a)(j,2),b=d[0],h=d[1],f=Object(s.useState)(!1),m=Object(tt.a)(f,2),O=m[0],p=m[1];Object(s.useEffect)((function(){var e;null===(e=document.getElementById("user-color"))||void 0===e||e.setAttribute("style","background-color: ".concat(localStorage.getItem("user-color")||"#3827a0"))}),[]);return Object(st.jsxs)("div",{className:Bt.a.infoBlock,onDoubleClick:function(){return h(!1)},children:[b&&Object(st.jsx)("div",{className:Bt.a.chooserColor,children:Object(st.jsx)(Tt.a,{onChange:function(e){var t;null===(t=document.getElementById("user-color"))||void 0===t||t.setAttribute("style","background-color: ".concat(e.hex)),localStorage.setItem("user-color",String(e.hex)),h(!1)},width:"215px",colors:["#d435b7","#ff2600","#ffd900","#65d435","#61dafb","#359ad4","#6d57f6","#3827a0"]})}),r&&Object(st.jsxs)("div",{className:Bt.a.mainInfo,children:[Object(st.jsx)("label",{id:"user-color",className:Bt.a.colorBlock,onClick:function(){return h(!b)}}),Object(st.jsx)("img",{onClick:function(){return p(!0)},src:r&&(null===(t=r.photo)||void 0===t?void 0:t.url)?null===(n=r.photo)||void 0===n?void 0:n.url:dt,className:ot()(Bt.a.mainPhoto,Object(ue.a)({},Bt.a.malePhoto,r.info.isMale)),alt:"user img"}),Object(st.jsx)("div",{className:Bt.a.name,children:"".concat(r.info.name," ").concat(r.info.surname)}),Object(st.jsx)("div",{className:Bt.a.status,children:Object(st.jsx)(Ft,{status:r.status,updateStatus:o,isOwner:i})}),i?Object(st.jsx)("button",{className:"button button--primary",onClick:l,children:"Edit my profile"}):Object(st.jsx)("button",{className:"button button--primary",onClick:u,children:"Send message"})]}),O&&(null===(a=r.photo)||void 0===a?void 0:a.urlOriginal)&&Object(st.jsxs)("div",{className:Bt.a.modal,children:[Object(st.jsx)("div",{className:Bt.a.overlayModal,onClick:function(){return p(!1)}}),Object(st.jsx)("img",{className:Bt.a.modalPhoto,src:null===(c=r.photo)||void 0===c?void 0:c.urlOriginal,alt:"big user img"})]}),r&&Object(st.jsx)(Ht,{info:r.info})]})},Wt=function(e){var t=new Date,n=function(e){var t=e.toString();return t.length<2?"0".concat(t):t};return{isToday:n(t.getFullYear())===e.slice(0,4)&&n(t.getMonth()+1)===e.slice(5,7)&&n(t.getDate())===e.slice(8,10),getTime:"".concat(e.slice(11,13),":").concat(e.slice(14,16)),withoutYear:"".concat(e.slice(8,10),".").concat(e.slice(5,7)," - ").concat(e.slice(11,13),":").concat(e.slice(14,16)),getDate:"".concat(e.slice(8,10),".").concat(e.slice(5,7),".").concat(e.slice(0,4)," - ").concat(e.slice(11,13),":").concat(e.slice(14,16))}},Zt=n.p+"static/media/removePost.72246ab3.svg",zt=n(30),Kt=n.n(zt),Vt=function(e){var t,n;return Object(st.jsxs)("div",{className:Kt.a.item,children:[e.profile&&Object(st.jsxs)("div",{className:Kt.a.user,children:[Object(st.jsxs)("div",{className:Kt.a.userInfo,children:[Object(st.jsx)("img",{className:ot()(Kt.a.userPhoto,Object(ue.a)({},Kt.a.malePhoto,null===(t=e.profile)||void 0===t?void 0:t.info.isMale)),src:(null===(n=e.profile.photo)||void 0===n?void 0:n.url)?e.profile.photo.url:dt,alt:""}),Object(st.jsxs)("div",{className:Kt.a.userDescription,children:[Object(st.jsx)("div",{className:Kt.a.name,children:"".concat(e.profile.info.name," ").concat(e.profile.info.surname)}),Object(st.jsx)("div",{className:Kt.a.date,children:Wt(e.date).getDate})]})]}),Object(st.jsx)("img",{className:Kt.a.removePost,onClick:function(){return e.isOwner&&e.deletePost(e.id)},src:Zt,alt:""})]}),Object(st.jsxs)("div",{className:Kt.a.bottomBlock,children:[Object(st.jsx)("div",{className:Kt.a.text,children:e.message&&e.message}),Object(st.jsxs)("div",{className:Kt.a.likes,onClick:function(){return e.addLikes(e.id)},children:[Object(st.jsx)("span",{className:Kt.a.likeCount,children:e.likesCount}),Object(st.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAABHNCSVQICAgIfAhkiAAAA5pJREFUaEPtWktS20AQ7bYNlORFyAlCThBygpgTAAswO+xtSg7kBFFuYIKSLbBDZgGcAHMCzAminCDOwnIZsDo1suTIRv+RkKzKVFF2yTPd/bpbb3p6QCjowILigv/APu48rJfxaZ8Q1hFgDSZ/5iCALhL0EKn7Ta1ex8mCT/XBJhHWLPk1hwyNADQmf0yVsx8Xy70w8gMjJtX1AySSAXE1jEAA0AxC+XtHOAsz35QPcOh0lO86oj4hyooqHvnN8wQm7Q1rSHQSWuGcFiLqGbTU9PIwy4ASPp4g4noYB7jM0QixqZwLXbf1rsBaO8MGlExQfIN5t1TanlduOs0wLiNkgbcdBjaPL4TT+QnPgEm7AxkRv/AhmlvtUJ6Y02ZVfD5Wxbbz0QwwaXewhYiXiYIy2YX6Y1raYF/L+HiTSKSep/620qle2Y+nwA73hmtjw7hLQ+mEOqlvfoYnoWj+JeqXS6X37XNBM9XYq6W6foMATpqNJjgHs9m2o6iimRkmMIsBb3JgG7cJhLjByGoCrADRsj1iRw0Pt2h1vDL8ze2qHAkoj4TXmBoTZgiUiLYZsFNE3M/QjsRVE9EZtnb1LiB8SFx6lgIJblnE7jjqtSzN99TN6lRs1XXKpXWcRhUXmFTXNQR4w+mgXC0ngF/FJY9WXWcV8WauXM5vzDWmdD7iN41HgoFNNI8rRD955ORtbRnxrVUED3oI+C5vBsaxh4DuFbXKOmkAhUpHqw3hPGguPO0zmldU0ex3ToEVIWqsqrf7HjPNnIUuiAlujzvitLUxA4wdOp+WdQ0RX8V5cbNaQ0R/Kg/iWvsKJw0jZyraDxax/2H3OZyOde0ES3W9jQAHWUUgil4COFJUkfX+Z4Z3734BTtbspKx0qg03R/jetuS5beAHyvUdc6I3yWRF7+auKpljwMgRmxJKjtIyKFKerOj14uYhLcOCCkzFeZBZgosCKjIwtiCV+7MAfieir0qnKkfZBgLvoN2EvWhd6XFjGQQyFjArclsAwLrIqZRfrEwCgIbzMi8ITGDlEVaAdUHeTRocA2XQUi3svz7Epns/oEnvdewEXBmJNWdBG9bRiUXMFmRdRbGbe95u13V5JDR4QcViRT/v8WwHUek8KIqxycNLcCzGjMl8fuASBxaFMXmZ78WBMYVBjJkE82UCjCn1YsykmC8zYP/ADWUgmhwIEU8rI0FOgvkyBRbEXmn9ngp5pGVsFLmFBfYXww2rWDXAoPkAAAAASUVORK5CYII=",alt:""})]})]})]},e.id)},Xt=function(e){var t,n=e.isOwner,a=Object(l.c)((function(e){return e.profile})).profile,c=Object(l.b)(),r=Object(s.useState)(""),o=Object(tt.a)(r,2),i=o[0],u=o[1],j=function(e){var t;e.preventDefault(),c((t=i,function(){var e=Object(A.a)(v.a.mark((function e(n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:a=e.sent,n(V(a.data.posts));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),u("")},d=null===a||void 0===a||null===(t=a.posts)||void 0===t?void 0:t.sort((function(e,t){return e.date<t.date?1:-1})).map((function(e){return Object(st.jsx)(Vt,{message:e.message,likesCount:e.likesCount,id:e._id,date:e.date,profile:a,isOwner:n,addLikes:function(e){return c(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:a=t.sent,n(V(a.data.posts));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},deletePost:function(e){return c(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:a=t.sent,n(X(a.data.postId));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))}},e._id)}));return Object(st.jsxs)("div",{className:Kt.a.postsBlock,children:[Object(st.jsx)("h3",{children:"My posts"}),n&&Object(st.jsxs)("form",{className:"form--primary ".concat(Kt.a.form),onSubmit:function(e){return j(e)},children:[Object(st.jsx)("input",{className:"form--primary-input",type:"text",placeholder:"Enter your post...",value:i,onChange:function(e){return u(e.target.value)}}),Object(st.jsx)("button",{className:"button button--primary form--primary-button",children:"Add post"})]}),Object(st.jsx)("div",{className:Kt.a.posts,children:d})]})},Jt=Object(u.d)(o.h)((function(e){var t=e.match,n=Object(l.c)((function(e){return e.auth})).userData,a=Object(l.c)((function(e){return e.profile})),c=a.profile,r=a.isFetching,i=Object(l.c)((function(e){return e.dialogs})),u=i.chats,j=i.newChatId,d=Object(l.b)(),b=Object(o.g)(),h=Object(s.useState)(!1),f=Object(tt.a)(h,2),m=f[0],O=f[1],p=t.params.userId,g=n.id===p;Object(s.useEffect)((function(){d(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(J(!0)),t.next=3,k(e);case 3:a=t.sent,n(Z(a)),n(J(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(p))}),[p]);var _=function(){var e=Object(A.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Y(t));case 2:O(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(A.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=u.filter((function(e){return e.participants.includes(c._id)&&2===e.participants.length}))[0])||void 0===t?void 0:t._id){e.next=7;break}return e.next=4,d(le(c._id));case 4:n=j,e.next=8;break;case 7:d(ie(n));case 8:b.push("dialogs/".concat(n));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(st.jsxs)("div",{children:[r&&Object(st.jsx)(ct,{}),m?Object(st.jsx)(It,{profile:c,onSubmit:_,exitOfEditMode:function(){return O(!1)},isOwner:g,isLoading:r}):Object(st.jsx)("div",{className:Bt.a.profile,children:c&&Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)(Qt,{isOwner:g,profile:c,updateStatus:q,goToEditMode:function(){return O(!0)},onSendMessage:x}),Object(st.jsx)(Xt,{isOwner:g})]})})]})})),qt=n.p+"static/media/left-arrow.327f49ff.svg",Yt=n(12),$t=n.n(Yt),en=function(e){var t=e.sendMessage,n=Object(s.useState)(""),a=Object(tt.a)(n,2),c=a[0],r=a[1];return Object(st.jsxs)("form",{className:"form--primary ".concat($t.a.form),onSubmit:function(e){return function(e){e.preventDefault(),t(c),r("")}(e)},children:[Object(st.jsx)("input",{className:"form--primary-input",type:"text",placeholder:"Enter your message",value:c,onChange:function(e){return r(e.target.value)}}),Object(st.jsx)("button",{className:"button button--primary form--primary-button",children:"Send"})]})},tn=function(e){var t=e.message,n=e.isItMe,a=e.isFirstToday,s=n?"".concat($t.a.message," ").concat($t.a.myMessage):$t.a.message;return Object(st.jsxs)(st.Fragment,{children:[a&&Object(st.jsxs)("div",{className:$t.a.hr,children:[Object(st.jsx)("div",{className:$t.a.hrText,children:"Today"}),Object(st.jsx)("div",{className:$t.a.hrLine})]}),Object(st.jsxs)("li",{id:t._id,className:s,children:[Object(st.jsx)("div",{className:$t.a.messageText,children:t.text}),Object(st.jsx)("div",{className:$t.a.messageDate,children:Wt(t.date).isToday?Wt(t.date).getTime:Wt(t.date).getDate})]})]})},nn=function(e){var t=e.chat,n=e.currentDialog,a=e.changeChat,s=e.isUnread;return Object(st.jsxs)(i.b,{to:"/dialogs/".concat(t._id),className:ot()($t.a.item,Object(ue.a)({},$t.a.activeDialogItem,n===t._id)),onClick:a,children:[Object(st.jsx)("img",{src:t.photo||dt,alt:"",className:ot()($t.a.photo,Object(ue.a)({},$t.a.malePhoto,t.isMale))}),Object(st.jsx)("div",{className:$t.a.userName,children:t.title}),Object(st.jsx)("div",{className:ot()($t.a.unreadTicket,Object(ue.a)({},$t.a.activeTicket,s))})]})},an=Object(u.d)(o.h)((function(e){var t=e.match.params.chatId,n=Object(l.c)((function(e){return e.auth})).userData,a=Object(l.c)((function(e){return e.dialogs})),c=a.chats,r=a.messages,o=a.isFetching,i=Object(l.b)(),u=Object(s.useState)(null),j=Object(tt.a)(u,2),d=j[0],b=j[1],h=n.id,f=c.filter((function(e){return e._id===t}))[0],m=!1;Object(s.useEffect)((function(){return i(function(){var e=Object(A.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te.connect(),te.on("chats",(function(e){t(ae(e)),t(re(!1))})),te.on("messages",(function(e){t(se(e)),t(re(!1))})),te.on("newChatId",(function(e){t(ce(e)),t(re(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){i(Object(A.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te.disconnect();case 1:case"end":return e.stop()}}),e)}))))}}),[]),Object(s.useEffect)((function(){i(ie(t))}),[t]),Object(s.useEffect)((function(){var e=Array.isArray(r)&&r.length&&document.getElementById(r[r.length-1]._id);e&&e.scrollIntoView()}));var O=Array.isArray(r)&&r.map((function(e){var t=!1;return Wt(e.date).isToday&&(t=!m,m=!0),Object(st.jsx)(tn,{message:e,isItMe:h===e.senderId,isFirstToday:t},e._id)}));return Object(st.jsxs)("div",{className:ot()($t.a.dialogs,Object(ue.a)({},$t.a.disableClicking,o)),children:[Object(st.jsxs)("div",{className:ot()($t.a.dialogsItems,Object(ue.a)({},$t.a.openDialogsItems,d)),children:[o&&Object(st.jsx)(ct,{}),o||c.length?c.map((function(e){return Object(st.jsx)(nn,{chat:e,currentDialog:t,changeChat:function(){return b(!0)},isUnread:!!n.id&&!!e.isUnreadFor.length&&e.isUnreadFor.includes(n.id)},e._id)})):Object(st.jsx)("div",{className:$t.a.noChats,children:"No chats"})]}),Object(st.jsxs)("div",{className:ot()($t.a.messages,Object(ue.a)({},$t.a.openMessages,d)),children:[Object(st.jsxs)("div",{className:$t.a.topBlock,children:[Object(st.jsx)("img",{className:$t.a.topBlockArrow,src:qt,alt:"",onClick:function(){return b(!1)}}),f&&Object(st.jsxs)("div",{className:$t.a.topBlockUser,children:[Object(st.jsx)("div",{className:$t.a.topBlockName,children:f.title}),Object(st.jsx)("img",{className:$t.a.topBlockPhoto,src:f.photo||dt,alt:""})]})]}),Object(st.jsxs)("ul",{className:$t.a.messagesBlock,children:[o&&Object(st.jsx)(ct,{}),"no choose"===r?Object(st.jsx)("div",{className:$t.a.noMessages,children:"Please choose chat"}):O&&O.length?O:Object(st.jsx)("div",{className:$t.a.noMessages,children:"No messages"})]}),!o&&Object(st.jsx)(en,{sendMessage:function(e){return t&&i(function(e,t){return function(){var n=Object(A.a)(v.a.mark((function n(a){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(re(!0)),te.emit("sendMessage",{chatId:e,messageText:t},(function(e){e&&console.log(e)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,e))}})]})]})})),sn=n(23),cn=n.n(sn),rn=function(){var e=Object(s.useState)(!1),t=Object(tt.a)(e,2),n=t[0],a=t[1],c=Object(l.c)((function(e){return e.auth})),r=c.isAuth,o=c.userData,u=Object(l.c)((function(e){return e.settings})),j=u.isBlackThemeActivated,d=u.isDynamicBackgroundActivated,b=Object(l.b)();return Object(st.jsx)("div",{className:cn.a.header,children:Object(st.jsxs)("div",{className:cn.a.headerWrap,children:[Object(st.jsxs)("div",{className:cn.a.mainIcon,children:[Object(st.jsx)(i.b,{to:"/profile".concat(o.id?":".concat(o.id):""),className:cn.a.logoLink,children:Object(st.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAh1BMVEUAAABk2vth2vxh2/xh2vxh2/xh2vth2/xh2vth2vxh2/xh2vxh2vxh2/xh2vxh2vxh2vth2vth2vth2vxg2vth2vth2/th2vxh2vxh2vxh2vxh2vtg2vth2vth2/xh2vxh2/xh2vth2/xh2vth2vth2/th2vth2vtm6P9h3P5j3/9l4/9o6/9I1caUAAAAJ3RSTlMACPsj9g8s4NjrX5OArPGcRcDQTBwXbj9Y5bM0UWe5eXTKOqTFh4yMjSHNAAAT5ElEQVR42uxb6XKbMBAuAhtsLhs7PvAVx2nQwfs/Xy0s8SmVscgUt/2RzUwnAaTV3qvd7Y9v+IZv+IZv+IZv+IZv+Cp4LfzpRj/kHrefvwcmrj9C7Vl/PhWAxdtNTx9xnBwWvufA7Dj8craK0+MxzU+LlyeTALzrPKzoDXgQ5Zvll2jAPt5b8p5xqkBM0sUTKQDa3ZHXvCI3qJio6STdjIC6L/fHScRryiqit+JUzHfPogCIT4xWpAIQQjil4U9fvu5//FlJqLgurgwgFWWvzxECMOc1U0gBDfeCfAzcruMv3gVlOD12YnX8XDW61BqrjbrKfTdy+cFsLmjVtU8dD08AcCc4P2ngMwnBT4ctyJfjlJvH1zYACg5DUwDkMw51FdJxSGM2SaDbKSi4H7YSoo4P7Wug1UxWjQemAMgjobHULDzP59GE1590mXB6hB7d056osSGwoRZZUeZ5WhDK1EM6x5JhCXilRB2TxbuRfLRcvx4D6U3AURqsNAU2B2IujE855VG8WN7e+h+Mq3d0M6QIgH4U3jAQns2MF/7qzKUCQI+OSxzAZP9bVBukcprla88IyrNA7U/PWDYkAQdKlJKumwwMidAsNYMDodlGvrEjiDCOX2+TpZlJeYaJidlTrOCdKgadPm3fkLJLOSUEzG29OeRX1oywVkqTpHVY+OZDY7jg1XACGCvkIvLuxab1nPKWgqo++/IpPngLqSEiFiNzM4nc3mTAJ/L10AScNHuUn7ZImG6h4oRmUAPv+o4JAiOZ7+TD7jhDnmLG84YAIrnj3feRo1xACJzLtEa9+aBQn8ZNdWzhE3b7Jh+KAOz9MuG3vdMHbn4R1lAjmstn0kzLmhCwH4Gik0uiwDdDEbDmyklPza0tLb7Ao5L66EkTfylAlWAn+ZlLT1kAExrYiTJyP9BD2wMKQyiuxjjeGg/CN/mRm018NjgB8Y2N0gd5j70VGB7Qrb/LRNAqVTpSi52Kuhrcio837aRHx85X+i5tVCN0kgn9OxeJW7PPgjwpqY4UAa6d5etXzttTM/2bCPY/3GtThSYd7OCIMcQpW3ijoHX7UH9HloxgPGQ6BA+d8f4hxmstF+c/v/RauFJ+NISpDZVIsC+4B+U7AXXp9Vs3VeFyOxqYgJ3OFF2FDyRvHOfncd8L/0LcTGeyHJiAtagQBnqt2AsQwNZY5by1DhrJsDHFxv0WVMyQQNBXcGum8Iz/DQGwmYCb130x6bnu7b8g4Oq0JqYfbdzKVan/BwKIJMDtg0JKoEHNOhrBrwyjQsMbMZKJMw309Va0edFcvuppxDzzh3ajTLHmrcfGqY4BpE4u+D3/iht9GTqQEQQyZzqAM8cyCwx0NE6wdoBANnwqgZuDPv9F6pOsZuAy9G9SCSRzuNJ3a3F7+z3elka6osfYm2t1gmRuUFB1UahB5wmWE070fUxysXkkiA4HL47luSKgxMNBy1qoF3Q7IH3YUB0WUY3Jwu3j9aWBZlhI+9zIvLYDQjgc7tW38H79C9zIPgYlAK6F4E7cXcBugO/1d7BNGFF3Afk5d2IcAQ66o6igz/mKz1ATuAJjuwcb+NpbLwYnYM+Bv5t/gsCB4keuONatbcDFdwXi4bs0uJKJrkDgKTvp8IJe1BKH2l4vOQ9VWtzyG3rbj3pew2MYAJ+MvaU/lrDbyX/95dJbBwzqpaY8PLv6pEuLw8NZoOABr2lQsWivMGwSTSZZQIhUuYqQIMgmkyhrX1cLHB17oDaKAuyQIrjQ1g0B761RNj3FZREaVzAuOOcMwK8g8JpVYXHMk+l6+Rsdo9ARLgdo8XF5pVH9JX+2io9XztJby9UA1fjF3+oBKJRrWBYd49XM93SrZ1exZ/UHEIzoomnt7ZM0ygStqVDzGtVXQC1hzQZZlCb7hooNKsjDE7DMFHc+/ENeBKJhuvvgbkKkOGoRRJeVnysph8/o8XmFUOypqGZ7o89/BHK5FgatdIOmHL5BcwUdTBl7xHcCsJ86FipukPp1sOEtOIjltOB3Wcgq2zobEIIrEMZDbgnABv4+9RXqgZi/PJQZ5Q7G3bS3eC8v8c/TYbrZL2az2Xp9/Wex30wPr0mcp/NziG1YpwkJmpWH5R9SgObj/pJhmsQAeXRO65qjhVR6zsJDSY2GeE35XTIIozRLNyMnDW7mj3+GgvLfUGirEyQ85odDwCo0qG/ZWwNI5hpQ0pxwJYBgOs2PYePPQIU5CyK28dhBgmuucF9WVA8FAZho5hXT034sN89p3zETFB5Ut0dGw8UpLTLRBBR7kq06bjzQ8FXdORQCqmPAle/Jwvd0ok3VU2QwrjaSJri99PiLpNzew1RRGq0wVvGl459C+vuAop6WGKmPmh+ZvyAH7tszR/FEp1XLLSfIQ4BU0G2C0Yrex38NP2s+kXalldc35m0+tEag6tNfidTVt2mIv2n/RDVmWMPk1E8KaFeHlP9+epJeFOdqeWPFRQdVICeg9oCbl374U9864zSgepIN40UHCME9W/xOBTE1R1AyX/k/Rpkd6o+UoG7du84XMGJRfRYqEbqaxPSo52Lhcs8zRYGzCBdz8XkpL06+fKVPy7KlFr3MH3FT+2pujsQZ80h13jzxX8+8USXYgshfXCTI1/uwroxlvM7ytTbZ1W8zQ8qCu8st6qGNpVDreKgdQqL33utV63xSC4OEqp5snHOpXmwov9Sd8KSG01WNGjoErKpqbW+GX7oKMKT+qd6eBeaRNMbla0TFp0HBHJt1TWpg6opQWkw9HABzc1zqEO4Id0KAltBopE5jFUFrApcGZ4A7t2LatBCU4Eh1tHtUGFsE1CS32AC5PXeGUxCO1hlw+4f8Pdxuw/d82liQFQww4dfKEs4Y+2wKUylEZQ0H49sV58ZkWzi10EKH5mjb4BJu7jUrgyZ7bvLroIQHsaqNfC0pKOyKEKbxwjYhYITRzpmphFbGZFtyNweZt7dWuHNYMAg9yiSkBUZFCRnBjjUzmigGXbRzsgSqQSr6oQ5mjwxCe0pMtll8U17zx0xU1X2xH9oJb2AlED3aYcrvqOse3KpFgl8qPULt2nbNxugtkNkhSDNdS8Oe1v4wU0Aw5ef9eExEYUyMjjqTgwxCQNC5O9qAwcIHWQDdrT8pMUByU6sigJHWY1pZSL2YUYIo1kHBcl5XGiAocJYTbb0PRksQemnaCABqCy2rLfbf7Q140JvzXDiH/TxDsgSVIxinfsUPOH9HCR23easUDtdkA/n9Uz/Te+j8uvAe55iMof59tzVKOHsw2Qa2AdDOQqzroIDBWnQCirCDufKH5cGKE116MT8dtfdU5miNmBxGJLVzfRuQ6OBjhdfeq5sChR0BAwFWguhxKXlXOmR17ZDSdIElgpMWp6siBwYJ9P2Ra0XyqXOoEuoGnE1WZI3LdALDyBr650gTIB/HXKMqoHroTBkR1QXaZ9sxBSmNCZ1aDtkDvQu8tkZbCa3tsCXRpyyPux+uNoC5i4Dy3v95gF32GmixeFdSVw/Yzuigc5aT7QLgsEQAbXQAkijYE+Yg4n6TeZgHwkUYQy0PCMA8pe2IEIXdGmBOtIBtCJTusSpmCwDC6QZ4SlsEsO/+w7EvBgF9CzvI6EDyHxAAp9avr4RsBpdPr+8oje1q4DdM0twq1NEAj7+CHi1/dGfFr/bOdDttGIjCRZjF7EvYEpKwxpLs93++1ljwGYSRaUSXc5gfbRKwLVma0ejOndHOca2lqQyabddt4an2AJTnyRFMXuPeSAGjrzwySLYOsnaZ0WFhgikUFacvgxNmJlV8FzqIrWfpwNVzdIA9AS+Dt1EWl4SBhykraYcAYQ2vzFplisV2+BkA1lb3+OPNWXNIOE1ZhXiGvYlNwXZdfh2jNezonRNIKNx4y/oJDUnbhe4z7pZZLxR4UAzAfe70y+J0BVaXqZtaCe7hUuFr067IDhHRsDEOu3/F7W/Ic6OLZYQZySy6qcLaDBpuLctM2f1MQ7OlRKNupebEwra5KJ+hGwIB30qmaSw0r+0c9QyiqxLw1phumWasNQDHDeCc5CheBbAWCWtfYHJFvrRIWgf0gZeBHg+T4Hr7IY0Cj2b3GifAKoXt38da3IC2oJxHcl1QpQO1U8GkEurrm5raLrkSuhbJsGKvGUYzaqET2KrvSBBMXq994+P04oSMPit0wcL1DQq+stwwkhHRZKB97nhu+mSrGFokO1BIwVDyKs6HPodNjy7xZFYMs+akNh9o6wLACbMKOCdKkAxBKwkXG0PsBHd/zEaglQylTZtMBBZPdwnz5+0GPhkWVY8t+H+/SMH1I4FlQQ0AKKLoI/A63up5NZOYlpFUZ/egnfYTPJlqLxgrdjIEbEDU8pHmeb/ZU3Gses0t9YeQkSRQeTPAUW2DdRchnwy9iEW+2ku/bj7AjcDcGY2w9uPEh6pvs9kbVawuEVRc4Hz47aKOUjuQKh+gmd5EPk2QjO6K7iz9gPWOtGjmMeiEHePjR9shoYYE/P50DtHjzVbkmx9ZIbLC+id0QQ/fU9PGG2cGsQND+RDYFAUeIe6PWdWwQxmLtDXUUuWBr5gg5a04/UUFGikX/RmrGAsm6x+u8J2FfkRyALqwqgzJpr3IyCbM6Iajihg1gIKzK7NYfT1VPGZQfmHDUS7PgOSqyxDuIp3JnZGSOjp7j2JfKV0Eq7rVpgsUAhK76VwoFnwiO0Ss764UBRrKH/V0uo6S+Pz5Mu7iHZTpwub11AX4KnnLXbHoS+4dtb0Gv1LcBtxen7gqNH/oZHrYi9/HQYMQAXxw1Gr0+K5yHMO8BmOkstnIk7AjO2vylxuFrUjgiyAqeO0MXk5vbpWUJaywjUGDzRUvg89uT/EMBj5Rr4O7WXOsIiG0HSSdTeG6/76ZVHihJcFB4olCZjjUZPbeX4fpvOEJEJV6/Tea/1vEv51Cobj1wcNRvVG3M68uI8WGCr6lvSRkn9DfZXXe2a576qJeGkwfPVr9Pv2V1fCrGae+5VXeeSKlWgQK1MclJKqoYKGkTODAn7c+XX6YO9+szjnehrHUBVRvpRVxyH5n2hoP3urVSa1WOUmtNqnWN4Nla9XpB3xbqwI6uJKmAuV3288w1Jb9hSqiz0eIIXiLoNcLG41G85f8+i/s9QKhTNoGXy6i76uw2zIcYI/8dTAQF/v+EK5VhrduOOxKHbrquBSAy0frbY5Vtv5ouM4+RMHFPo5O3EzV3bcQmmp1m+KQPCO+2wvansTBaDvfHtlI1Qfm0CTpjqLe+vpoHHqRKaL4nZYb+r6UovG6P2QBjY87PO9ZTHjA4MuV+rLTHYWm7qWK7umEyjQ6FuFu2xnXK6dyGsoC4X2msxIMRcNqb8tV/2PUCHRM+44ai5znqsQqaIxe29NxvYadINzhOQsIQAX4kmcaqVXfOprlQElLFPG/uFOv1q7epmtFrH0Jkaktf7poQD85JYOON2neTOt9+kve31ut5Xg2y1AkbsGF1kaBmLcXARHC5bR7AbZDL/PSzoc2LTNJsIs9q0/B7cdAXPczgUvJocmc7jxhxUVGki3/lf7I6HYT6mgBNswRiwRtYZz9CESj4tlpR3qUMpMADgXJ6i4ujf+yDHCrHFUNIA8SbTPFPVS+WgaCkKHgtXAw79Z9Z7C7fEGhCmkegrI7jsoeTe9WtFsqWdzkNFNQCPsKjF2aB+FVhpQqdAWiTzh4N/0dwAcM2EHIs0bKU61FJ7MT/JFQaOqDRG5KEziZ8FpYAvNQhhRFnARqZGa+SDoo6zJuHlVfaF4CHqYkUjIdH+tdotW3VSgT6bViKmWDADPdpsi4pToqwWKwU0SW/ktUsRtwNwPunzoRvzflUC9FpMl3B/Cy3I5HRtJGlF6WuvDln+hARtI+9gBS9j/RgUFpbqSKkMMC8D91IO1BfguJc/m3dGBS0gphS+cRokmc+jtWqDw5lqS6+GwKdUv1APq+HDxqJV6VI2jvpbqgW9ZKUtP9r8QQQkkid3sTEULZ5nKcVMp1/mF3GoU50V9Bn4O4R6DL6U57L7JF9at1iXkcntqvdEQRcE0WZ6k6Un47sHLVH0N9lYb79bk5Kx7vxKvWsYBD7FHQLrVxFFvsn4KzQsXTi/L9TQ6vKECQtf8TmVhhbpghzpqhuTqapxual/wBChHndRW8JsiongSauZ3Fc+usmUCGmytHWHDWUYGmAX55EtQLdLqQWJhntjVT/x8mGKnWJGsWcSK19z09FhpkzU67jqSAmoTCXhzjouWQ2HXBDNo+LkJjWzjTmGVTKhqpOzTRPkgnalPiwoK1vNeZI/GAIbCav/mI41wLQxat4qOM+AoDAP3Vt4Dcql71kg43O5BzmD7Dl/sOk+K4LeAXj2KTsybEJwy1LaJtsWL6nB8IefU4LwotnhwQ5dcG2TSZeLE8/nUy7htqG8RCzppxH6i2H0zMp0ujJQ5/y8uRdkLHo/a01Vq1h6E8oxQJqfaV+460C3fb9v6r24y1ePihfIM492QZS5lIfcEO3L3dXGmvHyqYJMmpBoyyghveXVKIDUI4yjCVPdaRGylDg3qUQNFHICp/3SyExTzaFR+sGUiT4uldoOjz6LPJE7SrZXfuxUebCrmwAEjPPehSmTDPyFzsq984XJZJuGMF8SwUfrnIbVAyEcMW62ppQuGe430PEukksFeQB/Rg0mkcyr3qjK/RG36SKXEfk222XwfxgeOV/qsbjOJjBCrjeP8xaiwazV23M375jcqgXFIdf/Y/duv1cLuaUdDokUL1rEkNd9nDGeN/pvUoMz99+04Usv5TwpOf8pSnPOUpT3nKU/5r+QnL/zLKJKcZgAAAAABJRU5ErkJggg==",alt:"",className:cn.a.logo})}),Object(st.jsxs)("p",{className:cn.a.title,children:["GAZZATI",Object(st.jsx)("br",{})," SOCIAL NETWORK"]})]}),o&&Object(st.jsx)("div",{children:r?Object(st.jsxs)("span",{className:cn.a.isAuthUserBlock,children:[Object(st.jsx)("span",{className:cn.a.userLogName,children:"".concat(o.name," ").concat(o.surname)}),Object(st.jsx)("img",{className:ot()(cn.a.userPhoto,Object(ue.a)({},cn.a.malePhoto,o.isMale)),src:o.photo||dt,alt:""}),Object(st.jsx)("img",{className:cn.a.function,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABHNCSVQICAgIfAhkiAAAAcJJREFUaEPt2eFNwzAQBeB3GzACG8AIMAGMUCZgFZgARmgngBHoBDBCNzjkkKAoTZqL43NyzvVPJctq7/O7OJJN2NiHNuaFg0tP3BP2hAtbAW/pwgI943jCnnBhK7DNlmbmKwA3AI5EdCop1K6NmPkWwAeAgA7YJyLal4Bm5kcAby3bfQB/A7juAAP63TKamXc1ts34CmAegJlFD2ArZgC/AHguBX0JC+A1gMOz+1lvWn1uM0mPYI8A7qrXUgloEZbo9P8etoyWYqtnuN3DFtFTsGdga+09FdsLtoKOwQ6C146OxV4ErxU9BzsKXht6LlYEXgs6BVYMXhqdCjsJvBQ6JXYyODc6NTYKnAutgY0Ga6O1sLPAWmhN7GxwarQ2Ngk4FToHNhl4LjoXNik4Fp0Tmxw8FZ0bqwKWosO8nnPjehh/B24KtyBqd0uC46IG1/1Ww6ol3Agi0KpYdbCwvdXbuN1Cai3d/hNB0urJNvVkAY8knQ2bpaV7kg63kg/1+AHATmM3HtoRsyXcgVfXs0T0M1SY1vgiYC2M5HcdLFkly3M8YcvpSWr3hCWrZHmOJ2w5PUntnrBklSzP8YQtpyep/RfNU0bbS1qVmwAAAABJRU5ErkJggg==",alt:"",onClick:function(){return a(!n)}})]}):Object(st.jsx)(i.b,{to:"/login",className:cn.a.login,children:"Log in"})}),n&&Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)("div",{className:cn.a.overlay,onClick:function(){return a(!n)}}),Object(st.jsxs)("div",{className:cn.a.content,children:[Object(st.jsxs)("div",{className:cn.a.theme,children:[Object(st.jsx)("span",{className:cn.a.label,children:"Night theme"}),Object(st.jsx)("span",{onClick:function(){return b(Me(j))},className:ot()(Object(ue.a)({},cn.a.switchOn,j),cn.a.button)})]}),Object(st.jsxs)("div",{className:cn.a.theme,children:[Object(st.jsx)("span",{className:cn.a.label,children:"Dynamic background"}),Object(st.jsx)("span",{onClick:function(){return b(Re(d))},className:ot()(Object(ue.a)({},cn.a.switchOn,d),cn.a.button)})]}),Object(st.jsx)("div",{className:cn.a.exit,onClick:function(){b(H()),a(!1)},children:"Exit from account"})]})]})]})})},on=n.p+"static/media/view.a52d0d33.svg",ln=n(21),un=n.n(ln),jn=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(tt.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(tt.a)(r,2),i=o[0],u=o[1],j=Object(l.b)(),d=function(e){e.preventDefault(),j(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(!0)),t.next=3,P(e);case 3:(s=t.sent).resultCode===a.Success?(N.defaults.headers.authToken=s.data.authToken,localStorage.setItem("authToken",s.data.authToken),n(M(s.data.userData,!0)),n(g("success",s.message))):n(g("error",s.message)),n(L(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))};return Object(st.jsxs)("form",{className:un.a.login,onSubmit:function(e){return d(e)},children:[Object(st.jsx)("input",{type:"email",placeholder:"email",value:n.email,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},required:!0}),Object(st.jsxs)("div",{className:un.a.passwordField,children:[Object(st.jsx)("input",{type:i?"text":"password",placeholder:"password",value:n.password,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},required:!0}),n.password&&Object(st.jsx)("img",{className:un.a.showPassword,onClick:function(){return u(!i)},src:on,alt:""})]}),Object(st.jsx)("div",{children:Object(st.jsx)("button",{className:"button button--primary",type:"submit",children:"Log In"})})]})},dn=function(){var e=Object(s.useState)({email:"",name:"",surname:"",password:"",isMale:!0}),t=Object(tt.a)(e,2),n=t[0],c=t[1],r=Object(l.b)(),o=Object(s.useState)(!1),i=Object(tt.a)(o,2),u=i[0],j=i[1],d=function(e){e.preventDefault(),r(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(L(!0)),t.next=3,U(e);case 3:(s=t.sent).resultCode===a.Success?(N.defaults.headers.authToken=s.data.authToken,localStorage.setItem("authToken",s.data.authToken),n(M(s.data.userData,!0)),n(g("success",s.message))):n(g("error",s.message)),n(L(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))};return Object(st.jsxs)("form",{className:un.a.registration,onSubmit:function(e){return d(e)},children:[Object(st.jsx)("input",{type:"text",placeholder:"name",value:n.name,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{name:e.target.value}))},required:!0}),Object(st.jsx)("input",{type:"text",placeholder:"surname",value:n.surname,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{surname:e.target.value}))},required:!0}),Object(st.jsx)("input",{type:"email",placeholder:"email",value:n.email,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{email:e.target.value}))},required:!0}),Object(st.jsxs)("div",{className:un.a.passwordField,children:[Object(st.jsx)("input",{type:u?"text":"password",placeholder:"password",value:n.password,onChange:function(e){return c(Object(b.a)(Object(b.a)({},n),{},{password:e.target.value}))},autoComplete:"new-password",required:!0}),n.password&&Object(st.jsx)("img",{className:un.a.showPassword,onClick:function(){return j(!u)},src:on,alt:""})]}),Object(st.jsxs)("div",{className:un.a.chooseGender,children:[Object(st.jsx)("div",{className:un.a.title,children:"Choose gender"}),Object(st.jsxs)("div",{className:un.a.radios,children:[Object(st.jsxs)("div",{className:un.a.item,onClick:function(){return c(Object(b.a)(Object(b.a)({},n),{},{isMale:!0}))},children:[Object(st.jsx)("div",{className:ot()(un.a.radioButton,Object(ue.a)({},un.a.active,n.isMale))}),Object(st.jsx)("div",{className:un.a.label,children:"Male"})]}),Object(st.jsxs)("div",{className:un.a.item,onClick:function(){return c(Object(b.a)(Object(b.a)({},n),{},{isMale:!1}))},children:[Object(st.jsx)("div",{className:ot()(un.a.radioButton,Object(ue.a)({},un.a.active,!n.isMale))}),Object(st.jsx)("div",{className:un.a.label,children:"Female"})]})]})]}),Object(st.jsx)("div",{children:Object(st.jsx)("button",{className:"button button--primary",type:"submit",children:"Register"})})]})},bn=function(){var e=Object(l.c)((function(e){return e.auth})).isFetching;return Object(st.jsx)("div",{className:un.a.loginPage,children:Object(st.jsxs)("div",{className:un.a.loginWrap,children:[e&&Object(st.jsx)(ct,{}),Object(st.jsxs)("div",{className:un.a.login,children:[Object(st.jsx)("h2",{children:"LOG IN"}),Object(st.jsx)(jn,{})]}),Object(st.jsx)("h4",{children:"or"}),Object(st.jsxs)("div",{className:un.a.registration,children:[Object(st.jsx)("h2",{children:"REGISTRATION"}),Object(st.jsx)(dn,{})]})]})})},hn=n(45),fn=n.n(hn),mn=function(){var e=Object(l.c)((function(e){return e.settings})),t=e.isBlackThemeActivated,n=e.isDynamicBackgroundActivated,a=Object(l.b)();return Object(st.jsxs)("div",{className:fn.a.settings,children:[Object(st.jsxs)("div",{className:fn.a.settingsItem,children:[Object(st.jsx)("span",{className:fn.a.label,children:"Night theme"}),Object(st.jsx)("span",{onClick:function(){return a(Me(t))},className:ot()(Object(ue.a)({},fn.a.switchOn,t),fn.a.button)})]}),Object(st.jsxs)("div",{className:fn.a.settingsItem,children:[Object(st.jsx)("span",{className:fn.a.label,children:"Dynamic background"}),Object(st.jsx)("span",{onClick:function(){return a(Re(n))},className:ot()(Object(ue.a)({},fn.a.switchOn,n),fn.a.button)})]})]})},On=n(34),pn=n.n(On),gn=function(e){var t=e.newsItem,n=t.publishedAt,a="".concat(n.slice(8,10),".").concat(n.slice(5,7),".").concat(n.slice(0,4)," - ").concat(n.slice(11,13),":").concat(n.slice(14,16));return Object(st.jsx)("div",{className:pn.a.newsItem,children:Object(st.jsxs)("div",{className:pn.a.itemWrapper,children:[Object(st.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:pn.a.title,children:Object(st.jsx)("b",{children:t.title})}),Object(st.jsx)("p",{className:pn.a.description,children:t.description}),Object(st.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:pn.a.img,children:t.urlToImage&&Object(st.jsx)("img",{src:t.urlToImage,alt:""})}),Object(st.jsxs)("div",{className:pn.a.info,children:[Object(st.jsx)("a",{href:t.url,className:pn.a.publish,target:"_blank",rel:"noopener noreferrer",children:Object(st.jsx)("b",{children:t.source.name})}),Object(st.jsx)("div",{className:pn.a.date,children:a})]})]})})},_n=function(){var e=Object(l.c)((function(e){return e.news})),t=e.news,n=e.isFetching,a=e.totalNewsCount,c=e.pageSize,r=e.currentPage,o=e.category,i=Object(l.b)();Object(s.useEffect)((function(){i(Fe(r,c,""))}),[]);return Object(st.jsxs)("div",{className:pn.a.news,children:[Object(st.jsxs)("div",{className:pn.a.topBlock,children:[Object(st.jsx)(jt,{currentPage:r,onPageChanged:function(e){i(Fe(e,c,""))},totalItemsCount:a,pageSize:c}),Object(st.jsxs)("select",{className:pn.a.select,defaultValue:o,onChange:function(e){return function(e){i(Fe(r,c,e.target.value))}(e)},children:[Object(st.jsx)("option",{value:"business",children:"Business"}),Object(st.jsx)("option",{value:"entertainment",children:"Entertainment"}),Object(st.jsx)("option",{value:"general",children:"General"}),Object(st.jsx)("option",{value:"health",children:"Health"}),Object(st.jsx)("option",{value:"science",children:"Science"}),Object(st.jsx)("option",{value:"sports",children:"Sports"}),Object(st.jsx)("option",{value:"technology",children:"Technology"})]})]}),n?Object(st.jsx)(ct,{}):null,Object(st.jsxs)("div",{className:pn.a.newsList,children:[!t.length&&!n&&Object(st.jsx)("div",{children:"Sorry, only available with localhost"}),t.map((function(e){return Object(st.jsx)(gn,{newsItem:e},e.publishedAt.toString())}))]})]})},xn=n(35),vn=n.n(xn),An=function(e){var t,n,s=e.user,c=e.unfollowingInProgress,r=e.onSendMessage,o=e.type,u=Object(l.b)();return Object(st.jsxs)("div",{className:vn.a.followItem,children:[Object(st.jsx)("div",{children:Object(st.jsx)(i.b,{to:"profile:".concat(s._id),children:Object(st.jsx)("img",{src:(null===(t=s.photo)||void 0===t?void 0:t.url)?null===(n=s.photo)||void 0===n?void 0:n.url:dt,className:ot()(vn.a.photo,Object(ue.a)({},vn.a.malePhoto,s.info.isMale)),alt:""})})}),Object(st.jsxs)("div",{className:vn.a.descriptionUser,children:[Object(st.jsx)("div",{className:vn.a.name,children:"".concat(s.info.name," ").concat(s.info.surname)}),Object(st.jsx)("div",{children:s.status})]}),Object(st.jsxs)("span",{className:vn.a.buttons,children:[Object(st.jsx)("div",{className:"button button--primary ".concat(vn.a.chat),onClick:function(){return r(s._id)},children:"Chat"}),"following"===o&&Object(st.jsx)("button",{className:"button button--secondary ".concat(vn.a.unfollow),onClick:function(){return u((e=s._id,function(){var t=Object(A.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ve(!0)),t.next=3,fe(e);case 3:t.sent.resultCode===a.Success&&n(Ze(e)),n(Ve(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},disabled:c.some((function(e){return e===s._id})),children:"Unfollow"})]})]})},yn=function(e){var t=e.type,n=Object(l.c)((function(e){return e.follow})),a=n.following,c=n.followers,r=n.isFetching,i=n.unfollowingInProgress,u=Object(l.c)((function(e){return e.dialogs})),j=u.chats,d=u.newChatId,b=Object(l.b)(),h=Object(o.g)(),f="following"===t?a:c;Object(s.useEffect)((function(){b(function(e){return function(){var t=Object(A.a)(v.a.mark((function t(n){var a,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(Ve(!0)),"following"!==e){t.next=8;break}return t.next=4,He();case 4:a=t.sent,n(ze(a.data)),t.next=12;break;case 8:return t.next=10,Qe();case 10:s=t.sent,n(Ke(s.data));case 12:n(Ve(!1));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[t]);var m=function(){var e=Object(A.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=j.filter((function(e){return e.participants.includes(t)&&2===e.participants.length}))[0])||void 0===n?void 0:n._id){e.next=7;break}return e.next=4,b(le(t));case 4:a=d,e.next=8;break;case 7:b(ie(a));case 8:h.push("dialogs/".concat(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(st.jsxs)("div",{className:vn.a.followBlock,children:[r?Object(st.jsx)(ct,{}):null,Object(st.jsx)("div",{className:vn.a.followTitle,children:"followers"===t?"Followers":"Following"}),Object(st.jsx)("div",{className:vn.a.follow,children:f.length?f.map((function(e){return Object(st.jsx)(An,{user:e,type:t,unfollowingInProgress:i,onSendMessage:m},e._id)})):Object(st.jsx)("div",{className:vn.a.usersBlock,children:"Not found users"})})]})},wn=n(197),Nn=n.n(wn),kn=n(198),En=n.n(kn),Cn=function(){var e="dark"===document.documentElement.getAttribute("data-theme")?"#2d2f3b":"#cdccdd";return Object(st.jsx)(Nn.a,{className:En.a.bg,params:{particles:{color:{value:e},opacity:{value:1},number:{value:170},size:{value:5,random:!0,anim:{speed:4,size_min:.6}},line_linked:{enable:!1},move:{random:!0,speed:1,direction:"top",out_mode:"out"}},interactivity:{events:{onhover:{enable:!0,mode:"attract"},onclick:{enable:!0,mode:"repulse"}},modes:{repulse:{distance:400,duration:8}}}}})};!function(e){e.success="success",e.info="info",e.error="error"}($e||($e={}));var In=n.p+"static/media/close.71f7d8e2.svg",Tn=n(55),Sn=n.n(Tn),Bn=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.app.notifications}));return Object(st.jsx)(st.Fragment,{children:Object(st.jsx)("div",{className:Sn.a.notification,children:t&&t.map((function(t){return Object(st.jsxs)("div",{className:ot()(Sn.a.notificationContainer,Object(ue.a)({},Sn.a.success,t.type===$e.success),Object(ue.a)({},Sn.a.info,t.type===$e.info),Object(ue.a)({},Sn.a.error,t.type===$e.error)),children:[Object(st.jsx)("p",{className:Sn.a.notificationMessage,children:t.message}),Object(st.jsx)("img",{src:In,alt:"close",onClick:function(){return e((n=t.id,function(e){e(p(n))}));var n}})]},t.id)}))})})},Fn=(n(520),Object(u.d)(o.h)((function(){var e=Object(l.c)((function(e){return e.auth})),t=e.isAuth,n=e.userData,c=Object(l.c)((function(e){return e.settings})).isDynamicBackgroundActivated,r=Object(l.b)();return Object(s.useEffect)((function(){r(function(){var e=Object(A.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(L(!0)),e.next=3,F();case 3:(n=e.sent).resultCode===a.Success&&t(M(n.data,!0)),t(L(!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(Me("light"===localStorage.getItem("black-theme"))),r(Re("false"===localStorage.getItem("dynamic-bg")))}),[]),Object(st.jsxs)(st.Fragment,{children:[c&&Object(st.jsx)(Cn,{}),Object(st.jsx)(Bn,{}),Object(st.jsx)(rn,{}),Object(st.jsxs)("main",{children:[Object(st.jsx)(kt,{}),Object(st.jsx)("div",{className:"wrapper",children:Object(st.jsxs)(o.d,{children:[Object(st.jsx)(o.b,{path:"/users",render:function(){return Object(st.jsx)(mt,{})}}),Object(st.jsx)(o.b,{exact:!0,path:"/settings",render:function(){return Object(st.jsx)(mn,{})}}),Object(st.jsx)(o.b,{path:"/news",render:function(){return Object(st.jsx)(_n,{})}}),t?Object(st.jsxs)(st.Fragment,{children:[Object(st.jsx)(o.b,{path:"/profile::userId?",render:function(){return Object(st.jsx)(Jt,{})}}),Object(st.jsx)(o.b,{path:"/dialogs/:chatId?",render:function(){return Object(st.jsx)(an,{})}}),Object(st.jsx)(o.b,{path:"/following",render:function(){return Object(st.jsx)(yn,{type:"following"})}}),Object(st.jsx)(o.b,{path:"/followers",render:function(){return Object(st.jsx)(yn,{type:"followers"})}}),Object(st.jsx)(o.b,{exact:!0,path:"/profile",children:Object(st.jsx)(o.a,{to:"/profile:".concat(n.id)})})]}):Object(st.jsx)(bn,{})]})})]})]})}))),Pn=function(){return Object(st.jsx)(i.a,{children:Object(st.jsx)(l.a,{store:et,children:Object(st.jsx)(Fn,{})})})};r.a.render(Object(st.jsx)(Pn,{}),document.getElementById("root"))},55:function(e,t,n){e.exports={notification:"style_notification__3FB2B",notificationContainer:"style_notificationContainer__ZF6cZ",pulse:"style_pulse__13B-7",notificationMessage:"style_notificationMessage__Ig3BU",success:"style_success__b55hN",info:"style_info__X1EYj",error:"style_error__YchWp"}}},[[521,1,2]]]);
//# sourceMappingURL=main.a3a3ddde.chunk.js.map